"use strict";(self.webpackChunkleo_travels_app=self.webpackChunkleo_travels_app||[]).push([[266],{9266:(b,r,i)=>{i.r(r),i.d(r,{TransactionModule:()=>J});var l=i(6895),p=i(7337),m=i(4684),t=i(4650),f=i(5412),d=i(8142);function g(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.AsE(" ",e.amount," ",e.name,", ")}}function h(n,a){1&n&&(t.TgZ(0,"span",3),t._uU(1," Departamento: "),t.qZA())}function _(n,a){1&n&&(t.TgZ(0,"span",3),t._uU(1," Ciudad: "),t.qZA())}function T(n,a){1&n&&(t.TgZ(0,"span",3),t._uU(1," Direcci\xf3n: "),t.qZA())}function Z(n,a){1&n&&(t.TgZ(0,"span",3),t._uU(1," M\xe1s: "),t.qZA())}let C=(()=>{class n{constructor(){this.data=(0,t.f3M)(f.WI)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-transaction"]],decls:59,vars:19,consts:[[3,"titleModal"],[1,"content-transaction"],[1,"columns-2"],[1,"bold"],[4,"ngFor","ngForOf"],[1,"data-transaction"],[1,"content-data"],[1,"titles-transaction"],["class","bold",4,"ngIf"]],template:function(e,o){1&e&&(t._UZ(0,"app-title-modal",0),t.TgZ(1,"div",1)(2,"div",2)(3,"p")(4,"span",3),t._uU(5,"No Orden de pago:"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"p")(8,"span",3),t._uU(9,"Fecha de pago:"),t.qZA(),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"p")(13,"span",3),t._uU(14,"Valor:"),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"p")(17,"span",3),t._uU(18,"Productos:"),t.qZA(),t.YNc(19,g,2,2,"ng-container",4),t.qZA()(),t.TgZ(20,"div",5)(21,"div",6)(22,"div",7)(23,"p",3),t._uU(24,"Datos del cliente"),t.qZA()(),t.TgZ(25,"div")(26,"p")(27,"span",3),t._uU(28," Nombre: "),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"p")(31,"span",3),t._uU(32," Documento: "),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"p")(35,"span",3),t._uU(36," Correo: "),t.qZA(),t._uU(37),t.qZA(),t.TgZ(38,"p")(39,"span",3),t._uU(40," Celular: "),t.qZA(),t._uU(41),t.qZA()()(),t.TgZ(42,"div",6)(43,"div",7)(44,"p",3),t._uU(45,"Datos de env\xedo"),t.qZA()(),t.TgZ(46,"div")(47,"p"),t.YNc(48,h,2,0,"span",8),t._uU(49),t.qZA(),t.TgZ(50,"p"),t.YNc(51,_,2,0,"span",8),t._uU(52),t.qZA(),t.TgZ(53,"p"),t.YNc(54,T,2,0,"span",8),t._uU(55),t.qZA(),t.TgZ(56,"p"),t.YNc(57,Z,2,0,"span",8),t._uU(58),t.qZA()()()()()),2&e&&(t.Q6J("titleModal","VER TRANSACCI\xd3N"),t.xp6(6),t.hij(" ",o.data.reference," "),t.xp6(4),t.hij(" ",t.lcZ(11,17,o.data.fecha)," "),t.xp6(5),t.hij(" ",o.data.total," "),t.xp6(4),t.Q6J("ngForOf",o.data.products),t.xp6(10),t.hij(" ",o.data.user.name," "),t.xp6(4),t.hij(" ",o.data.user.numberDocument," "),t.xp6(4),t.hij(" ",o.data.user.email," "),t.xp6(4),t.hij(" ",o.data.user.phone," "),t.xp6(7),t.Q6J("ngIf",o.data.shippingAdress),t.xp6(1),t.hij(" ",null==o.data.shippingAdress?null:o.data.shippingAdress.department," "),t.xp6(2),t.Q6J("ngIf",o.data.shippingAdress),t.xp6(1),t.hij(" ",null==o.data.shippingAdress?null:o.data.shippingAdress.city," "),t.xp6(2),t.Q6J("ngIf",o.data.shippingAdress),t.xp6(1),t.hij(" ",null==o.data.shippingAdress?null:o.data.shippingAdress.adress," "),t.xp6(2),t.Q6J("ngIf",o.data.shippingAdress),t.xp6(1),t.hij(" ",null==o.data.shippingAdress?null:o.data.shippingAdress.adressEspecification," "))},dependencies:[l.sg,l.O5,d.i,l.uU],styles:[".content-transaction[_ngcontent-%COMP%]{width:90%;margin:35px auto}.bold[_ngcontent-%COMP%]{font-weight:700}.titles-transaction[_ngcontent-%COMP%]{padding:10px 0;border-top:1px solid gray;border-bottom:1px solid gray;margin:20px 0}.data-transaction[_ngcontent-%COMP%]{display:flex;width:100%}.data-transaction[_ngcontent-%COMP%]   .content-data[_ngcontent-%COMP%]{width:50%}.columns-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;justify-content:center}.center[_ngcontent-%COMP%]{place-self:center;align-self:flex-start}@media screen and (max-width: 500px){.columns-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.data-transaction[_ngcontent-%COMP%]{flex-direction:column}.data-transaction[_ngcontent-%COMP%]   .content-data[_ngcontent-%COMP%]{width:100%}.content-transaction[_ngcontent-%COMP%]{height:65vh;overflow:auto}}"]}),n})();var u=i(9524),s=i(671),A=i(7392);function U(n,a){1&n&&(t.TgZ(0,"th",13),t._uU(1," N\xb0 Orden "),t.qZA())}function v(n,a){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.reference," ")}}function x(n,a){1&n&&(t.TgZ(0,"th",13),t._uU(1," Fecha "),t.qZA())}function y(n,a){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.fecha)," ")}}function M(n,a){1&n&&(t.TgZ(0,"th",13),t._uU(1," Valor "),t.qZA())}function q(n,a){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.total," ")}}function w(n,a){1&n&&(t.TgZ(0,"th",13),t._uU(1," Cliente "),t.qZA())}function N(n,a){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",(null==e.user?null:e.user.name)+" "+(null==e.user?null:e.user.lastName)," ")}}function O(n,a){1&n&&(t.TgZ(0,"th",13),t._uU(1," Acciones "),t.qZA())}function D(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",14)(1,"mat-icon",15),t.NdJ("click",function(){const c=t.CHM(e).$implicit,V=t.oxw();return t.KtG(V.openModal(c))}),t._uU(2,"visibility"),t.qZA()()}}function P(n,a){1&n&&t._UZ(0,"tr",16)}function j(n,a){1&n&&t._UZ(0,"tr",17)}const F=[{path:"",component:(()=>{class n extends m.K{constructor(){super(...arguments),this.modal=C,this.transaction=[],this.displayedColumns=["n\xb0order","date","total","client","actions"]}ngOnInit(){this.getAllProducts(),this.fieldsFilters=[{field:"reference",fieldName:"Referencia"},{field:"user?.name",fieldName:"Nombre"}]}getAllProducts(){this.baseService.validateFilter("payments/getPayments",this.filters).subscribe({next:e=>{this.transaction=e.data}})}openModal(e){this.dialog.open(this.modal,{hasBackdrop:!0,data:e,width:"700px"})}validateFilter(e){JSON.stringify(e)!==JSON.stringify(this.filters)&&(this.filters=e,this.getAllProducts())}}return n.\u0275fac=function(){let a;return function(o){return(a||(a=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transaction"]],features:[t.qOj],decls:21,vars:6,consts:[[3,"title","fields","description","handleFilter"],[1,"content-component"],[1,"table-transactions"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","n\xb0order"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","total"],["matColumnDef","client"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"app-header-modules",0),t.NdJ("handleFilter",function(c){return o.validateFilter(c)}),t.qZA(),t.TgZ(1,"div",1)(2,"div",2)(3,"table",3),t.ynx(4,4),t.YNc(5,U,2,0,"th",5),t.YNc(6,v,2,1,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,x,2,0,"th",5),t.YNc(9,y,3,3,"td",6),t.BQk(),t.ynx(10,8),t.YNc(11,M,2,0,"th",5),t.YNc(12,q,2,1,"td",6),t.BQk(),t.ynx(13,9),t.YNc(14,w,2,0,"th",5),t.YNc(15,N,2,1,"td",6),t.BQk(),t.ynx(16,10),t.YNc(17,O,2,0,"th",5),t.YNc(18,D,3,0,"td",6),t.BQk(),t.YNc(19,P,1,0,"tr",11),t.YNc(20,j,1,0,"tr",12),t.qZA()()()),2&e&&(t.Q6J("title","Transacciones")("fields",o.fieldsFilters)("description","Aqu\xed podr\xe1s revisar a detalle todas las transacciones"),t.xp6(3),t.Q6J("dataSource",o.transaction),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[u.l,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,A.Hw,l.uU],styles:[".content-component[_ngcontent-%COMP%]{padding:30px}table[_ngcontent-%COMP%]{width:100%}.table-transactions[_ngcontent-%COMP%]{max-height:400px;overflow:auto}td[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]}),n})()}];let Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(F),p.Bz]}),n})();var Y=i(4429);let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,u.l,Q,Y.q,d.i]}),n})()}}]);