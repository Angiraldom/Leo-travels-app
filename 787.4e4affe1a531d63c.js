"use strict";(self.webpackChunkleo_travels_app=self.webpackChunkleo_travels_app||[]).push([[787],{4787:(L,u,i)=>{i.r(u),i.d(u,{KitViajeroModule:()=>z});var a=i(6895),p=i(7337),x=i(3367),t=i(4650),f=i(9653),P=i(6551),l=i(8571),d=i(5227),m=i(9071),g=i(833),v=i(805),_=i(5900),C=i(9429);let M=(()=>{class n{transform(e){return e?e.map(o=>o.url):[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"flatImageProperties",type:n,pure:!0,standalone:!0}),n})();function w(n,r){}function O(n,r){if(1&n&&(t.TgZ(0,"div",14)(1,"div",15),t._UZ(2,"img",16),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.Q6J("src",e,t.LSH)}}function Z(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"section")(1,"div",1)(2,"p-messages",2),t.NdJ("valueChange",function(c){t.CHM(e);const s=t.oxw();return t.KtG(s.message=c)}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"p-carousel",6),t.ALo(7,"flatImageProperties"),t.YNc(8,w,0,0,"ng-template",7),t.YNc(9,O,3,1,"ng-template",8),t.qZA()()(),t.TgZ(10,"div",9)(11,"p",10)(12,"span"),t._uU(13),t.qZA()(),t._UZ(14,"hr"),t.TgZ(15,"p")(16,"span"),t._uU(17),t.ALo(18,"currency"),t.qZA()(),t._UZ(19,"hr"),t.TgZ(20,"p"),t._UZ(21,"span",11),t.qZA(),t._UZ(22,"hr"),t.TgZ(23,"app-generic-button",12),t.NdJ("emitClick",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.validateReference(c.viewProduct))}),t.qZA()()(),t._UZ(24,"div",13),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("value",e.message),t.xp6(4),t.Q6J("value",t.lcZ(7,13,e.viewProduct.imageProperties))("circular",!0)("autoplayInterval",3e3)("numVisible",2)("numScroll",1)("responsiveOptions",e.responsiveOptionsViewProduct),t.xp6(7),t.Oqu(e.viewProduct.name),t.xp6(4),t.Oqu(t.lcZ(18,15,e.viewProduct.price)),t.xp6(4),t.Q6J("innerHTML",e.viewProduct.description,t.oJD),t.xp6(2),t.Q6J("sizeButton","large")("classButton","class_yellow")("nameButton","A\xf1adir al carrito")}}function b(n,r){1&n&&(t.TgZ(0,"p",18)(1,"span",10),t._uU(2,"Productos relacionados"),t.qZA()())}function V(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t._UZ(2,"img",20),t.TgZ(3,"div",21)(4,"p")(5,"span",10),t._uU(6),t.ALo(7,"uppercase"),t.qZA()(),t.TgZ(8,"p")(9,"span"),t._uU(10),t.ALo(11,"currency"),t.qZA()()(),t.TgZ(12,"div",22)(13,"app-generic-button",12),t.NdJ("emitClick",function(){t.CHM(e);const c=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.changeRoute(c))}),t.qZA()()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",e.imageProperties[0].url,t.LSH)("alt",e.title),t.xp6(4),t.Oqu(t.lcZ(7,7,e.title)),t.xp6(4),t.Oqu(t.lcZ(11,9,e.price)),t.xp6(3),t.Q6J("sizeButton","large")("classButton","class_white_color_blue")("nameButton","Ver producto")}}function y(n,r){if(1&n&&t.YNc(0,V,14,11,"div",19),2&n){const e=r.$implicit,o=t.oxw(2);t.Q6J("ngIf",e.id!==o.id)}}function T(n,r){if(1&n&&(t.TgZ(0,"section")(1,"p-carousel",17),t.YNc(2,b,3,0,"ng-template",7),t.YNc(3,y,1,1,"ng-template",8),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("value",e.visibleProducts)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",e.responsiveOptions)}}const I=[{path:"",component:x.t},{path:"view-product/:id",component:(()=>{class n{constructor(e){this.changeDetectorRef=e,this.store=(0,t.f3M)(f.yh),this.router=(0,t.f3M)(p.F0),this.route=(0,t.f3M)(p.gz),this.baseService=(0,t.f3M)(P.b),this.products=[],this.visibleProducts=[],this.responsiveOptions=[{breakpoint:"8000px",numVisible:5,numScroll:1},{breakpoint:"3000px",numVisible:3,numScroll:1},{breakpoint:"1000px",numVisible:2,numScroll:1},{breakpoint:"800px",numVisible:1,numScroll:1}],this.responsiveOptionsViewProduct=[{breakpoint:"1200px",numVisible:1,numScroll:1}],this.productsInList=[],this.message=[{severity:"warn",summary:"Los productos f\xedsicos solo est\xe1n disponibles para env\xedo en Colombia"}],this.isScreenWide=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{this.id=e.get("id"),this.id&&this.getAllProducts()}),this.$store=this.store.select("cart").subscribe({next:e=>{this.productsInList=e.products}})}ngOnDestroy(){this.$storeViewProducts.unsubscribe(),this.$store.unsubscribe()}getAllProducts(){this.$storeViewProducts=this.baseService.getMethod("product").subscribe({next:e=>{this.products=e.data,this.visibleProducts=this.products.filter(o=>o._id!==this.id),this.products.length>0&&(this.viewProduct=this.products.find(o=>o._id===this.id))}})}changeRoute(e){this.id=e._id,this.viewProduct=this.products.find(o=>o._id==e._id),this.visibleProducts=this.products.filter(o=>o._id!==this.id),this.router.navigate([`kit-viajero/view-product/${e._id}`])}addProduct(e,o){const c=this.productsInList.find(s=>s._id===e._id);if(c){const s={...c};s.amount=c.amount+1,this.store.dispatch(l.nM({reference:o,product:s}))}else e.hasOwnProperty("amount")||(e=Object.assign({},e,{amount:1})),this.store.dispatch(l.gK({reference:o,product:e}))}validateReference(e){let o=localStorage.getItem("reference");o||(o=this.generarIdUnico(),localStorage.setItem("reference",o)),this.addProduct(e,o)}generarIdUnico(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=e.length;let c="";for(let h=0;h<10;h++){const F=Math.floor(Math.random()*o);c+=e.charAt(F)}return c+="-"+Date.now().toString(36),c}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-product"]],decls:4,vars:2,consts:[[4,"ngIf"],[1,"container-p-messages"],["severity","warn",3,"value","valueChange"],[1,"container"],[1,"container-first-section-1"],[1,"container-view-product-carrousel"],["styleClass","custom-carousel",3,"value","circular","autoplayInterval","numVisible","numScroll","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],[1,"container-first-section-2"],[1,"title"],[3,"innerHTML"],[3,"sizeButton","classButton","nameButton","emitClick"],[1,"separador"],[1,"product-item"],[1,"product-item-content"],["oncontextmenu","return false","onkeydown","return false",1,"product-image","main-carousel",3,"src"],["styleClass","custom-carousel",3,"value","circular","autoplayInterval","responsiveOptions"],[1,"container-title-carrousel"],["class","product-item",4,"ngIf"],["oncontextmenu","return false","onkeydown","return false",1,"product-image",3,"src","alt"],[1,"container-info-carrousel"],[1,"viewProduct"]],template:function(e,o){1&e&&(t._UZ(0,"app-menu"),t.YNc(1,Z,25,17,"section",0),t.YNc(2,T,4,4,"section",0),t._UZ(3,"app-footer")),2&e&&(t.xp6(1),t.Q6J("ngIf",o.viewProduct),t.xp6(1),t.Q6J("ngIf",o.visibleProducts))},dependencies:[a.O5,d.c,m.M,g.x,v.jx,_.V,C.l,a.gd,a.H9,M],styles:[".p-message.p-message-warn{background:#FAD030;border:solid #FAD030;border-width:0 0 0 6px;color:#222e5e}  .p-message.p-message-warn .p-message-icon{color:#222e5e}  .p-message.p-message-warn .p-message-close{color:#fff}.title[_ngcontent-%COMP%]{color:#222e5e;font-weight:700;font-size:32px}.container[_ngcontent-%COMP%]{display:flex;color:#222e5e}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]{flex-direction:column}}.container-first-section-1[_ngcontent-%COMP%]{width:60%;margin-top:60px}@media screen and (max-width: 600px){.container-first-section-1[_ngcontent-%COMP%]{width:100%;margin-top:60px}}.container-first-section-2[_ngcontent-%COMP%]{display:flex;width:55%;flex-direction:column;margin:150px 0 10px 30px;font-size:20px}@media screen and (max-width: 600px){.container-first-section-2[_ngcontent-%COMP%]{width:100%;padding:20px;margin:0;flex-direction:column;font-size:20px}}.container-title-carrousel[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-title-carrousel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:30px}.separador[_ngcontent-%COMP%]{height:2px;background-color:#222e5e;margin:30px 60px}.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0}.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:300px;height:300px}@media screen and (max-width: 600px){.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:200px;height:200px}}.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]   .product-image.main-carousel[_ngcontent-%COMP%]{height:500px}@media screen and (max-width: 600px){.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]   .product-image.main-carousel[_ngcontent-%COMP%]{height:300px}}.product-item[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;background-color:#fff;height:700px}.product-item[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.product-item[_ngcontent-%COMP%]   .container-info-carrousel[_ngcontent-%COMP%]{margin:10px auto;font-size:20px;color:#222e5e}.product-item[_ngcontent-%COMP%]   .container-info-carrousel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}@media screen and (max-width: 600px){.product-item[_ngcontent-%COMP%]   .container-info-carrousel[_ngcontent-%COMP%]{margin:5px auto}}.product-item[_ngcontent-%COMP%]   .viewProduct[_ngcontent-%COMP%]{padding:0 2rem}.container-p-messages[_ngcontent-%COMP%]{margin-top:40px;width:100%;position:absolute;z-index:1}  .p-carousel .p-carousel-indicators .p-carousel-indicator.p-highlight button{background-color:#222e5e}"]}),n})(),title:"Ver Producto"}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(I),p.Bz]}),n})();var J=i(6594),U=i(6574),j=i(4429),B=i(1192);let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,S,d.c,m.M,g.x,J.Sv,U.W,j.q,B.T]}),n})()}}]);